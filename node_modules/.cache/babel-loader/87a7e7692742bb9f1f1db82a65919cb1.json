{"ast":null,"code":"import React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{createRecord,deleteRecord,listRecords}from\"../actions/recordActions\";import LoadingBox from\"../components/LoadingBox\";import MessageBox from\"../components/MessageBox\";import{RECORD_CREATE_RESET,RECORD_DELETE_RESET}from\"../constants/recordConstants\";export default function RecordListScreen(props){var recordList=useSelector(function(state){return state.recordList;});var loading=recordList.loading,error=recordList.error,records=recordList.records;var recordCreate=useSelector(function(state){return state.recordCreate;});var loadingCreate=recordCreate.loading,errorCreate=recordCreate.error,successCreate=recordCreate.success,createdRecord=recordCreate.record;var recordDelete=useSelector(function(state){return state.recordDelete;});var loadingDelete=recordDelete.loading,errorDelete=recordDelete.error,successDelete=recordDelete.success;var dispatch=useDispatch();useEffect(function(){if(successCreate){dispatch({type:RECORD_CREATE_RESET});props.history.push(\"/record/\".concat(createdRecord._id,\"/edit\"));}if(successDelete){dispatch({type:RECORD_DELETE_RESET});}dispatch(listRecords());},[createdRecord,dispatch,props.history,successCreate,successDelete]);var deleteHandler=function deleteHandler(record){if(window.confirm(\"Are you sure to delete?\")){dispatch(deleteRecord(record._id));}};var createHandler=function createHandler(){dispatch(createRecord());};console.log(records);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Salam Guys - RECORDS\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"primary\",onClick:createHandler},\"Create Record\")),loadingDelete&&/*#__PURE__*/React.createElement(LoadingBox,null),errorDelete&&/*#__PURE__*/React.createElement(MessageBox,{variant:\"danger\"},errorDelete),loadingCreate&&/*#__PURE__*/React.createElement(LoadingBox,null),errorCreate&&/*#__PURE__*/React.createElement(MessageBox,{variant:\"danger\"},errorCreate),loading?/*#__PURE__*/React.createElement(LoadingBox,null):error?/*#__PURE__*/React.createElement(MessageBox,{variant:\"danger\"},error):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"TITLE\"),/*#__PURE__*/React.createElement(\"th\",null,\"AUTHOR\"),/*#__PURE__*/React.createElement(\"th\",null,\"CATEGORY\"),/*#__PURE__*/React.createElement(\"th\",null,\"URL\"),/*#__PURE__*/React.createElement(\"th\",null,\"ACTIONS\"))),/*#__PURE__*/React.createElement(\"tbody\",null,records.map(function(record){return/*#__PURE__*/React.createElement(\"tr\",{key:record._id},/*#__PURE__*/React.createElement(\"td\",null,record.title),/*#__PURE__*/React.createElement(\"td\",null,record.author),/*#__PURE__*/React.createElement(\"td\",null,record.category),/*#__PURE__*/React.createElement(\"td\",null,record.url),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"small edit\",onClick:function onClick(){return props.history.push(\"/record/\".concat(record._id,\"/edit\"));}},\"Edit\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"small delete\",onClick:function onClick(){return deleteHandler(record);}},\"Delete\")));})))));}","map":{"version":3,"sources":["C:/Users/PC/Desktop/frontend/src/screens/RecordListScreen.js"],"names":["React","useEffect","useDispatch","useSelector","createRecord","deleteRecord","listRecords","LoadingBox","MessageBox","RECORD_CREATE_RESET","RECORD_DELETE_RESET","RecordListScreen","props","recordList","state","loading","error","records","recordCreate","loadingCreate","errorCreate","successCreate","success","createdRecord","record","recordDelete","loadingDelete","errorDelete","successDelete","dispatch","type","history","push","_id","deleteHandler","window","confirm","createHandler","console","log","map","title","author","category","url"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { createRecord, deleteRecord, listRecords } from \"../actions/recordActions\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport {\r\n  RECORD_CREATE_RESET,\r\n  RECORD_DELETE_RESET,\r\n} from \"../constants/recordConstants\";\r\n\r\nexport default function RecordListScreen(props) {\r\n  const recordList = useSelector((state) => state.recordList);\r\n  const { loading, error, records } = recordList;\r\n\r\n  const recordCreate = useSelector((state) => state.recordCreate);\r\n  const {\r\n    loading: loadingCreate,\r\n    error: errorCreate,\r\n    success: successCreate,\r\n    record: createdRecord,\r\n  } = recordCreate;\r\n\r\n  const recordDelete = useSelector((state) => state.recordDelete);\r\n  const {\r\n    loading: loadingDelete,\r\n    error: errorDelete,\r\n    success: successDelete,\r\n  } = recordDelete;\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (successCreate) {\r\n      dispatch({ type: RECORD_CREATE_RESET });\r\n      props.history.push(`/record/${createdRecord._id}/edit`);\r\n    }\r\n    if (successDelete) {\r\n      dispatch({ type: RECORD_DELETE_RESET });\r\n    }\r\n    dispatch(listRecords());\r\n  }, [createdRecord, dispatch, props.history, successCreate, successDelete]);\r\n\r\n  const deleteHandler = (record) => {\r\n    if (window.confirm(\"Are you sure to delete?\")) {\r\n      dispatch(deleteRecord(record._id));\r\n    }\r\n  };\r\n  const createHandler = () => {\r\n    dispatch(createRecord());\r\n  };\r\n\r\n  console.log(records);\r\n  return (\r\n    <div>\r\n      <div className=\"row\">\r\n        <h1>Salam Guys - RECORDS</h1>\r\n        <button type=\"button\" className=\"primary\" onClick={createHandler}>\r\n          Create Record\r\n        </button>\r\n      </div>\r\n\r\n      {loadingDelete && <LoadingBox></LoadingBox>}\r\n      {errorDelete && <MessageBox variant=\"danger\">{errorDelete}</MessageBox>}\r\n\r\n      {loadingCreate && <LoadingBox></LoadingBox>}\r\n      {errorCreate && <MessageBox variant=\"danger\">{errorCreate}</MessageBox>}\r\n      {loading ? (\r\n        <LoadingBox></LoadingBox>\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <>\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th>TITLE</th>\r\n                <th>AUTHOR</th>\r\n                <th>CATEGORY</th>\r\n                <th>URL</th>\r\n                <th>ACTIONS</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {records.map((record) => (\r\n                <tr key={record._id}>\r\n                  <td>{record.title}</td>\r\n                  <td>{record.author}</td>\r\n                  <td>{record.category}</td>\r\n                  <td>{record.url}</td>\r\n                  <td>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"small edit\"\r\n                      onClick={() =>\r\n                        props.history.push(`/record/${record._id}/edit`)\r\n                      }\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"small delete\"\r\n                      onClick={() => deleteHandler(record)}\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}