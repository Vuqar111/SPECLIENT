{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\PC\\\\Desktop\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\PC\\\\Desktop\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import Axios from\"axios\";import{GALLERY_CREATE_FAIL,GALLERY_CREATE_REQUEST,GALLERY_CREATE_SUCCESS,GALLERY_DETAILS_FAIL,GALLERY_DETAILS_REQUEST,GALLERY_DETAILS_SUCCESS,GALLERY_LIST_FAIL,GALLERY_LIST_REQUEST,GALLERY_LIST_SUCCESS,GALLERY_UPDATE_REQUEST,GALLERY_UPDATE_SUCCESS,GALLERY_UPDATE_FAIL,GALLERY_DELETE_REQUEST,GALLERY_DELETE_FAIL,GALLERY_DELETE_SUCCESS}from\"../constants/galleryConstants\";export var listGalleries=function listGalleries(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var _yield$Axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:GALLERY_LIST_REQUEST});_context.prev=1;_context.next=4;return Axios.get(\"https://mernspeapplicaton.herokuapp.com/api/galleries\");case 4:_yield$Axios$get=_context.sent;data=_yield$Axios$get.data;dispatch({type:GALLERY_LIST_SUCCESS,payload:data.galleries});console.log(data.galleries);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);dispatch({type:GALLERY_LIST_FAIL,payload:_context.t0.message});case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var detailsGallery=function detailsGallery(galleryId){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var _yield$Axios$get2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch({type:GALLERY_DETAILS_REQUEST,payload:galleryId});_context2.prev=1;_context2.next=4;return Axios.get(\"https://mernspeapplicaton.herokuapp.com/api/galleries/\".concat(galleryId));case 4:_yield$Axios$get2=_context2.sent;data=_yield$Axios$get2.data;dispatch({type:GALLERY_DETAILS_SUCCESS,payload:data});_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);dispatch({type:GALLERY_DETAILS_FAIL,payload:_context2.t0.response&&_context2.t0.response.data.message?_context2.t0.response.data.message:_context2.t0.message});case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[1,9]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var createGallery=function createGallery(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch,getState){var _getState,userInfo,_yield$Axios$post,data,message;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch({type:GALLERY_CREATE_REQUEST});_getState=getState(),userInfo=_getState.userSignin.userInfo;_context3.prev=2;_context3.next=5;return Axios.post(\"https://mernspeapplicaton.herokuapp.com/api/galleries\",{},{headers:{Authorization:\"Bearer \".concat(userInfo.token)}});case 5:_yield$Axios$post=_context3.sent;data=_yield$Axios$post.data;dispatch({type:GALLERY_CREATE_SUCCESS,payload:data.gallery});_context3.next=14;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](2);message=_context3.t0.response&&_context3.t0.response.data.message?_context3.t0.response.data.message:_context3.t0.message;dispatch({type:GALLERY_CREATE_FAIL,payload:message});case 14:case\"end\":return _context3.stop();}}},_callee3,null,[[2,10]]);}));return function(_x3,_x4){return _ref3.apply(this,arguments);};}();};export var updateGallery=function updateGallery(gallery){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch,getState){var _getState2,userInfo,_yield$Axios$put,data,message;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch({type:GALLERY_UPDATE_REQUEST,payload:gallery});_getState2=getState(),userInfo=_getState2.userSignin.userInfo;_context4.prev=2;_context4.next=5;return Axios.put(\"https://mernspeapplicaton.herokuapp.com/api/galleries/\".concat(gallery._id),gallery,{headers:{Authorization:\"Bearer \".concat(userInfo.token)}});case 5:_yield$Axios$put=_context4.sent;data=_yield$Axios$put.data;dispatch({type:GALLERY_UPDATE_SUCCESS,payload:data});_context4.next=14;break;case 10:_context4.prev=10;_context4.t0=_context4[\"catch\"](2);message=_context4.t0.response&&_context4.t0.response.data.message?_context4.t0.response.data.message:_context4.t0.message;dispatch({type:GALLERY_UPDATE_FAIL,error:message});case 14:case\"end\":return _context4.stop();}}},_callee4,null,[[2,10]]);}));return function(_x5,_x6){return _ref4.apply(this,arguments);};}();};export var deleteGallery=function deleteGallery(galleryId){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch,getState){var _getState3,userInfo,_Axios$delete,data,message;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:dispatch({type:GALLERY_DELETE_REQUEST,payload:galleryId});_getState3=getState(),userInfo=_getState3.userSignin.userInfo;try{_Axios$delete=Axios.delete(\"https://mernspeapplicaton.herokuapp.com/api/galleries/\".concat(galleryId),{headers:{Authorization:\"Bearer \".concat(userInfo.token)}}),data=_Axios$delete.data;dispatch({type:GALLERY_DELETE_SUCCESS});}catch(error){message=error.response&&error.response.data.message?error.response.data.message:error.message;dispatch({type:GALLERY_DELETE_FAIL,payload:message});}case 3:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x7,_x8){return _ref5.apply(this,arguments);};}();};","map":{"version":3,"sources":["C:/Users/PC/Desktop/frontend/src/actions/galleryActions.js"],"names":["Axios","GALLERY_CREATE_FAIL","GALLERY_CREATE_REQUEST","GALLERY_CREATE_SUCCESS","GALLERY_DETAILS_FAIL","GALLERY_DETAILS_REQUEST","GALLERY_DETAILS_SUCCESS","GALLERY_LIST_FAIL","GALLERY_LIST_REQUEST","GALLERY_LIST_SUCCESS","GALLERY_UPDATE_REQUEST","GALLERY_UPDATE_SUCCESS","GALLERY_UPDATE_FAIL","GALLERY_DELETE_REQUEST","GALLERY_DELETE_FAIL","GALLERY_DELETE_SUCCESS","listGalleries","dispatch","type","get","data","payload","galleries","console","log","message","detailsGallery","galleryId","response","createGallery","getState","userInfo","userSignin","post","headers","Authorization","token","gallery","updateGallery","put","_id","error","deleteGallery","delete"],"mappings":"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","sourcesContent":["import Axios from \"axios\";\r\nimport {\r\n  GALLERY_CREATE_FAIL,\r\n  GALLERY_CREATE_REQUEST,\r\n  GALLERY_CREATE_SUCCESS,\r\n  GALLERY_DETAILS_FAIL,\r\n  GALLERY_DETAILS_REQUEST,\r\n  GALLERY_DETAILS_SUCCESS,\r\n  GALLERY_LIST_FAIL,\r\n  GALLERY_LIST_REQUEST,\r\n  GALLERY_LIST_SUCCESS,\r\n  GALLERY_UPDATE_REQUEST,\r\n  GALLERY_UPDATE_SUCCESS,\r\n  GALLERY_UPDATE_FAIL,\r\n  GALLERY_DELETE_REQUEST,\r\n  GALLERY_DELETE_FAIL,\r\n  GALLERY_DELETE_SUCCESS,\r\n} from \"../constants/galleryConstants\";\r\n\r\nexport const listGalleries = () => async (dispatch) => {\r\n  dispatch({\r\n    type: GALLERY_LIST_REQUEST,\r\n  });\r\n  try {\r\n    const { data } = await Axios.get(`https://mernspeapplicaton.herokuapp.com/api/galleries`);\r\n    dispatch({ type: GALLERY_LIST_SUCCESS, payload: data.galleries });\r\n    console.log(data.galleries)\r\n  } catch (error) {\r\n    dispatch({ type: GALLERY_LIST_FAIL, payload: error.message });\r\n  }\r\n};\r\n\r\nexport const detailsGallery = (galleryId) => async (dispatch) => {\r\n  dispatch({ type: GALLERY_DETAILS_REQUEST, payload: galleryId });\r\n  try {\r\n    const { data } = await Axios.get(`https://mernspeapplicaton.herokuapp.com/api/galleries/${galleryId}`);\r\n    dispatch({ type: GALLERY_DETAILS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: GALLERY_DETAILS_FAIL,\r\n      payload:\r\n        error.response && error.response.data.message\r\n          ? error.response.data.message\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\nexport const createGallery = () => async (dispatch, getState) => {\r\n  dispatch({ type: GALLERY_CREATE_REQUEST });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = await Axios.post(\r\n      \"https://mernspeapplicaton.herokuapp.com/api/galleries\",\r\n      {},\r\n      {\r\n        headers: { Authorization: `Bearer ${userInfo.token}` },\r\n      }\r\n    );\r\n    dispatch({\r\n      type: GALLERY_CREATE_SUCCESS,\r\n      payload: data.gallery,\r\n    });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: GALLERY_CREATE_FAIL, payload: message });\r\n  }\r\n};\r\nexport const updateGallery = (gallery) => async (dispatch, getState) => {\r\n  dispatch({ type: GALLERY_UPDATE_REQUEST, payload: gallery });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = await Axios.put(`https://mernspeapplicaton.herokuapp.com/api/galleries/${gallery._id}`, gallery, {\r\n      headers: { Authorization: `Bearer ${userInfo.token}` },\r\n    });\r\n    dispatch({ type: GALLERY_UPDATE_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: GALLERY_UPDATE_FAIL, error: message });\r\n  }\r\n};\r\nexport const deleteGallery = (galleryId) => async (dispatch, getState) => {\r\n  dispatch({ type: GALLERY_DELETE_REQUEST, payload: galleryId });\r\n  const {\r\n    userSignin: { userInfo },\r\n  } = getState();\r\n  try {\r\n    const { data } = Axios.delete(`https://mernspeapplicaton.herokuapp.com/api/galleries/${galleryId}`, {\r\n      headers: { Authorization: `Bearer ${userInfo.token}` },\r\n    });\r\n    dispatch({ type: GALLERY_DELETE_SUCCESS });\r\n  } catch (error) {\r\n    const message =\r\n      error.response && error.response.data.message\r\n        ? error.response.data.message\r\n        : error.message;\r\n    dispatch({ type: GALLERY_DELETE_FAIL, payload: message });\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}